<!DOCTYPE html><html>
<head>
	<title>NHS COVID-19</title>
	<meta charset="utf-8">
	<meta name="viewport" content="viewport-fit=cover, height=device-height, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">	
	<link rel="apple-touch-icon" href="icon.png">
	<style>
	html {
		font-family: 'helvetica';
		height:100%;
		overflow:hidden;
		position:relative;
	}
	body {
		padding-top: 1rem;
		background-color: white;
		height:100%;
		overflow:hidden;
		position:relative;
	}
	p {
		text-align: center;
	}	
	#thanks {
		font-size: 37px;
	}
	#venue {
		font-size: 39px;
		-webkit-user-modify: read-write;
	}
	#time {
		font-size: 2rem;
	}
	#blurb {
		font-size: 1.2rem;
		padding-left: 7%;
		padding-right: 7%;
	}
	#tickImg {
		width: 30%;
		height: 30%;
	}
	#cancel {
		color: #0072CE;
		text-align: center;
		font-size: 1.2rem;
		padding: 0.2rem 0;
		text-decoration: underline;
		font-weight: bold;
	}
	#home {
		background-color: #0072CE;
		color: white;
		width:80%;
		font-size: 1rem;
		padding: 0.7rem 1rem;
		font-weight: bold;
	}
	</style>
	<script>
	import jwt_decode from 'jwt-decode';
	var token = 'eyJhbGciOiJFUzI1NiIsImtpZCI6IllycWVMVHE4ei1vZkg1bnpsYVNHbllSZkI5YnU5eVBsV1lVXzJiNnFYT1EifQ.eyJpZCI6IjU2OFg2VzMzIiwib3BuIjoiVGhlIE5pZ2h0aW5nYWxlIG9uIHRoZSBHcmVlbiIsInZ0IjoiMDA4IiwicGMiOiJFMTEyRVkifQ.9gpCbwwfhwPljNpIl1GYVwPXC8WV0cf85hRhIayYMe3iNKcFgTFxV_DtXBwHLJCcTLEHSf0RWzuDOA-LR6TdUg';
	var decoded = JSON.parse(jwt_decode(token).toString());	
	window.onload = function() {
		checkinTime();

		document.getElementById("home").onclick = function() {
			document.getElementById("venue").innerText = window.prompt("Check in to",document.getElementById("venue").innerText);
		}
		document.getElementById("time").onclick = function() {
			document.getElementById("time").innerText = window.prompt("Check in time",currentTime());
		}
		document.getElementById("cancel").onclick = function() {
			checkinTime();
		}
	}
		
	function currentTime() {
		const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
		var date = new Date();
		return date.getDate().toString() + ' ' + months[date.getMonth()] + ' ' + date.getFullYear() + ' ' + date.getHours().toString().padStart(2, '0') + ':' + date.getMinutes().toString().padStart(2, '0');
	}
		
	function checkinTime() {
		document.getElementById("time").innerText = currentTime();
	}
	</script>
</head>
<body>
	<p></p>
	<p><img id="tickImg" src="tick.png"></p>
	<p id="thanks">Thank you for checking in to 
		<b id="venue">The Venue</b>
	</p>
	<p id="time"></p>
	<p id="blurb">The app is the fastest way to be alerted of potential exposure to coronavirus at a venue.</p>
	<p id="cancel">Wrong check-in? Tap to cancel.
		<button id="home">Back to home</button>
	</p>
</body>
</html>
